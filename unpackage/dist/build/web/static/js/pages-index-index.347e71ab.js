(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0a5c":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("bf0f"),n("f3f7"),n("18f7"),n("de6c"),n("80e3"),n("4db2"),n("c976"),n("4d8f"),n("7b97"),n("668a"),n("c5b7"),n("8ff5"),n("2378"),n("641a"),n("64e0"),n("cce3"),n("efba"),n("d009"),n("bd7d"),n("7edd"),n("d798"),n("f547"),n("5e54"),n("b60a"),n("8c18"),n("12973"),n("f991"),n("198e"),n("8557"),n("63b1"),n("1954"),n("1cf1"),n("c223"),n("d4b5"),n("aa9c"),n("2797"),n("5c47"),n("a1c1");var a=i(n("80b1")),s=i(n("efe5")),c=i(n("c5ee")),o=n("cea1"),r=function(){function t(){(0,a.default)(this,t),this.url="wss://api.huobi.pro/ws",this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectInterval=3e3,this.pendingSubscriptions=[],this.subscribedSymbols=new Set}return(0,s.default)(t,[{key:"connect",value:function(){var t=this;this.ws?console.log("WebSocket is already connected"):(this.ws=uni.connectSocket({url:this.url,success:function(){console.log("WebSocket connection initiated")},fail:function(e){console.error("Failed to initiate WebSocket connection:",e),t.scheduleReconnect()}}),this.ws.onOpen((function(){console.log("WebSocket connection opened"),t.reconnectAttempts=0,o.mutations.setIsConnected(!0),t.heartbeat(),t.processPendingSubscriptions()})),this.ws.onClose((function(e){console.log("WebSocket connection closed",e),t.ws=null,o.mutations.setIsConnected(!1),t.scheduleReconnect()})),this.ws.onError((function(t){console.error("WebSocket error:",t)})),this.ws.onMessage((function(e){if(e.data instanceof ArrayBuffer){var n=c.default.inflate(new Uint8Array(e.data),{to:"string"}),i=JSON.parse(n);i.ping?t.handlePing(i.ping):i.ch&&t.handlePriceUpdate(i)}})))}},{key:"handlePing",value:function(t){this.send({pong:t})}},{key:"heartbeat",value:function(){var t=this;setInterval((function(){t.ws&&1===t.ws.readyState&&t.send({ping:Date.now()})}),5e3)}},{key:"scheduleReconnect",value:function(){var t=this;this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log("Attempting to reconnect (".concat(this.reconnectAttempts,"/").concat(this.maxReconnectAttempts,")...")),setTimeout((function(){return t.connect()}),this.reconnectInterval)):console.error("Max reconnect attempts reached. Please check your connection and restart the app.")}},{key:"send",value:function(t){this.ws?this.ws.send({data:JSON.stringify(t),success:function(){},fail:function(t){console.error("Failed to send message:",t)}}):console.error("WebSocket is not connected")}},{key:"subscribe",value:function(t){var e="market.".concat(t,".ticker");this.subscribedSymbols.has(t)||(this.subscribedSymbols.add(t),this.ws&&1===this.ws.readyState?this.send({sub:e,id:Date.now()}):this.pendingSubscriptions.push(e))}},{key:"processPendingSubscriptions",value:function(){var t=this;this.pendingSubscriptions.forEach((function(e){t.send({sub:e,id:Date.now()})})),this.pendingSubscriptions=[]}},{key:"handlePriceUpdate",value:function(t){var e=t.ch.split(".")[1],n=e.replace("usdt","").toUpperCase()+"/USDT",i=t.tick.close,a=t.tick.open||i;o.mutations.updatePrice(n,i.toFixed(2));var s=(i-a)/a*100;o.mutations.updatePriceChange(n,s.toFixed(2))}},{key:"unsubscribe",value:function(t){var e="market.".concat(t,".ticker");this.subscribedSymbols.delete(t),this.ws&&1===this.ws.readyState&&this.send({unsub:e,id:Date.now()})}},{key:"close",value:function(){this.ws&&this.ws.close({success:function(){console.log("WebSocket closed successfully")},fail:function(t){console.error("Failed to close WebSocket:",t)}})}}]),t}(),u=new r,d=u;e.default=d},"1cef":function(t,e,n){var i=n("e6cd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("e3ac7c2c",i,!0,{sourceMap:!1,shadowMode:!1})},2093:function(t,e,n){"use strict";n.r(e);var i=n("b893"),a=n("b838");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("ad68");var c=n("828b"),o=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"6d028e98",null,!1,i["a"],void 0);e["default"]=o.exports},"53f7":function(t,e,n){"use strict";var i=n("7658"),a=n("57e7");i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},6389:function(t,e,n){"use strict";n.r(e);var i=n("eada"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},8775:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* uni.scss */\r\n/* uni.scss */.text-primary[data-v-6d028e98]{color:#fff}.text-secondary[data-v-6d028e98]{color:#666}.text-placeholder[data-v-6d028e98]{color:#999}.font-small[data-v-6d028e98]{font-size:%?24?%}.font-base[data-v-6d028e98]{font-size:%?28?%}.font-medium[data-v-6d028e98]{font-size:%?32?%}.font-large[data-v-6d028e98]{font-size:%?36?%}.font-bold[data-v-6d028e98]{font-weight:700}\r\n/* 主题颜色变量 */.market-list[data-v-6d028e98]{background-color:#1c1c1e;padding:0 %?30?%;width:98%;margin-left:1%;margin-right:1%}.market-list .header[data-v-6d028e98]{display:flex;height:%?80?%;align-items:center;font-size:%?24?%;color:#8f8f8f}.market-list .list-item[data-v-6d028e98]{display:flex;height:%?120?%;align-items:center;border-top:%?2?% solid #2c2c2e}.market-list .col[data-v-6d028e98]{padding:10px;flex:1}.market-list .col.trading-pair[data-v-6d028e98]{flex:1.5;display:flex;align-items:center}.market-list .col.price[data-v-6d028e98]{text-align:left;padding-right:%?40?%}.market-list .col.change[data-v-6d028e98]{text-align:right}.market-list .coin-icon[data-v-6d028e98]{width:%?50?%;height:%?50?%;margin-right:%?20?%}.market-list .pair-name[data-v-6d028e98]{color:#fff;font-size:%?28?%}.market-list .price[data-v-6d028e98]{color:#fff;font-size:%?28?%}.market-list .change-text[data-v-6d028e98]{padding:%?8?% %?20?%;border-radius:%?8?%;font-size:%?24?%}.market-list .change-text.positive[data-v-6d028e98]{background-color:rgba(76,175,80,.1);color:#4caf50}.market-list .change-text.negative[data-v-6d028e98]{background-color:rgba(244,67,54,.1);color:#f44336}',""]),t.exports=e},"935a":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-swiper",{staticClass:"swiper",attrs:{circular:!0,"indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3}},t._l(t.swiperList,(function(t,e){return n("v-uni-swiper-item",{key:e},[n("v-uni-image",{attrs:{src:t.image,mode:"aspectFill"}})],1)})),1),n("v-uni-view",{staticClass:"nav-shortcuts"},t._l(t.navList,(function(e,i){return n("v-uni-view",{key:i,staticClass:"nav-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.navTo(e.url)}}},[n("v-uni-image",{attrs:{src:e.icon,mode:"aspectFit"}}),n("v-uni-text",{staticClass:"text-primary"},[t._v(t._s(e.name))])],1)})),1),n("market-list",{on:{"item-click":function(e){arguments[0]=e=t.$handleEvent(e),t.onMarketSelect.apply(void 0,arguments)}}})],1)},a=[]},"994f":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("5c47"),n("a1c1"),n("bf0f"),n("2797");var a=n("cea1"),s=i(n("0a5c")),c={name:"MarketList",data:function(){return{symbols:["btcusdt","suiusdt","bchusdt","bsvusdt","dogeusdt","linkusdt","eosusdt","adausdt","trxusdt"]}},computed:{prices:function(){return a.store.prices},priceChanges:function(){return a.store.priceChanges},isConnected:function(){return a.store.isConnected}},mounted:function(){this.subscribeToSymbols(),this.isConnected||s.default.connect()},methods:{getIconUrl:function(t){var e=t.replace("/USDT","").toLowerCase();return"https://huobicfg.s3.amazonaws.com/currency_icon/".concat(e,".png")},subscribeToSymbols:function(){this.symbols.forEach((function(t){s.default.subscribe(t)}))},handleItemClick:function(t){this.$emit("item-click",t)},handlePriceUpdate:function(t){console.log(t);var e=t.ch.split(".")[1],n=t.tick.close,i=t.tick.open;this.$set(this.prices,e.toUpperCase(),n.toFixed(2));var a=(n-i)/i*100;this.$set(this.priceChanges,e.toUpperCase(),a.toFixed(2))}},beforeDestroy:function(){}};e.default=c},"9a7b":function(t,e,n){var i=n("8775");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("30a43d10",i,!0,{sourceMap:!1,shadowMode:!1})},a8e0:function(t,e,n){"use strict";n.r(e);var i=n("935a"),a=n("6389");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("bf89");var c=n("828b"),o=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"398037a8",null,!1,i["a"],void 0);e["default"]=o.exports},ad68:function(t,e,n){"use strict";var i=n("9a7b"),a=n.n(i);a.a},b838:function(t,e,n){"use strict";n.r(e);var i=n("994f"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},b893:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"market-list"},[n("v-uni-view",{staticClass:"header"},[n("v-uni-text",{staticClass:"col trading-pair"},[t._v("交易对")]),n("v-uni-text",{staticClass:"col price"},[t._v("最新价格")]),n("v-uni-text",{staticClass:"col change"},[t._v("24h涨跌幅")])],1),n("v-uni-view",{staticClass:"list"},t._l(t.prices,(function(e,i){return n("v-uni-view",{key:i,staticClass:"list-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleItemClick(i)}}},[n("v-uni-view",{staticClass:"col trading-pair"},[n("v-uni-image",{staticClass:"coin-icon",attrs:{src:t.getIconUrl(i),mode:"aspectFit"}}),n("v-uni-text",{staticClass:"pair-name"},[t._v(t._s(i))])],1),n("v-uni-view",{staticClass:"col price"},[n("v-uni-text",[t._v(t._s(e))])],1),n("v-uni-view",{staticClass:"col change"},[n("v-uni-text",{class:["change-text",t.priceChanges[i]>=0?"positive":"negative"]},[t._v(t._s(t.priceChanges[i]>=0?"+":"")+t._s(t.priceChanges[i])+"%")])],1)],1)})),1)],1)},a=[]},bf89:function(t,e,n){"use strict";var i=n("1cef"),a=n.n(i);a.a},cea1:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.store=e.mutations=void 0;var a=i(n("9b8e")),s=a.default.observable({prices:{},priceChanges:{},isConnected:!1});e.store=s;var c={setPrices:function(t){s.prices=t},setPriceChanges:function(t){s.priceChanges=t},setIsConnected:function(t){s.isConnected=t},updatePrice:function(t,e){a.default.set(s.prices,t,e)},updatePriceChange:function(t,e){a.default.set(s.priceChanges,t,e)}};e.mutations=c},e6cd:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".swiper[data-v-398037a8]{width:100%;height:%?300?%}.swiper uni-image[data-v-398037a8]{width:100%;height:100%}.nav-shortcuts[data-v-398037a8]{display:flex;justify-content:space-around;width:100%;padding:%?20?% 0\n\t/* background-color: #fff; */}.nav-item[data-v-398037a8]{display:flex;flex-direction:column;align-items:center}.nav-item uni-image[data-v-398037a8]{width:%?80?%;height:%?80?%;margin-bottom:%?10?%}.nav-item uni-text[data-v-398037a8]{font-size:%?24?%\n\t/* color: #333; */}.logo[data-v-398037a8]{height:%?200?%;width:%?200?%;margin-top:%?50?%;margin-left:auto;margin-right:auto;margin-bottom:%?50?%}.text-area[data-v-398037a8]{display:flex;justify-content:center}.title[data-v-398037a8]{font-size:%?36?%;color:#8f8f94}",""]),t.exports=e},eada:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("2093")),s={components:{MarketList:a.default},data:function(){return{markets:"",title:"Hello",swiperList:[{image:"/static/b1.png"},{image:"/static/b2.jpg"},{image:"/static/b3.jpg"}],navList:[{name:"首页",icon:"/static/nav1.png",url:"/pages/index/index"},{name:"分类",icon:"/static/nav2.png",url:"/pages/category/category"},{name:"购物车",icon:"/static/nav3.png",url:"/pages/cart/cart"},{name:"我的",icon:"/static/nav4.png",url:"/pages/my/my"}]}},onLoad:function(){},methods:{navTo:function(t){uni.navigateTo({url:t})},onMarketSelect:function(t){console.log("Selected market:",t)}}};e.default=s},f3f7:function(t,e,n){"use strict";n("53f7")}}]);